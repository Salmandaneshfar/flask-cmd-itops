# ุฑุงูููุง ุชูุธู Flask CMS ุจุง FreeIPA

## ๐ฏ ุชูุธูุงุช ูพุณ ุงุฒ ูุตุจ FreeIPA

### 1๏ธโฃ **ุงุทูุงุนุงุช FreeIPA ูุตุจ ุดุฏู:**
- **ุณุฑูุฑ:** 192.168.0.36
- **ุฏุงููู:** mci.local
- **Base DN:** dc=mci,dc=local
- **Web UI:** https://192.168.0.36
- **ุงุฏูู:** admin / MySecretPassword123
- **ูุฒุฑ MCI:** mci / [ุฑูุฒ ุนุจูุฑ ุดูุง]

### 2๏ธโฃ **ุชูุธูุงุช Flask CMS:**

#### ูุงู config.py ุจูโุฑูุฒุฑุณุงู ุดุฏู:
```python
# ุชูุธูุงุช FreeIPA
FREEIPA_HOST = '192.168.0.36'
FREEIPA_PORT = 389
FREEIPA_USE_SSL = False
FREEIPA_BASE_DN = 'dc=mci,dc=local'
FREEIPA_BIND_DN = 'cn=mci,cn=users,dc=mci,dc=local'
FREEIPA_BIND_PASSWORD = ''  # ุจุงุฏ ุชูุธู ุดูุฏ
```

#### ูุงู freeipa_config.env ุงุฌุงุฏ ุดุฏู:
```env
FREEIPA_HOST=192.168.0.36
FREEIPA_PORT=389
FREEIPA_USE_SSL=false
FREEIPA_BASE_DN=dc=mci,dc=local
FREEIPA_BIND_DN=cn=mci,cn=users,dc=mci,dc=local
FREEIPA_BIND_PASSWORD=
```

### 3๏ธโฃ **ุชุณุช ุงุชุตุงู:**

#### ุงุฌุฑุง ุงุณฺฉุฑูพุช ุชุณุช:
```bash
python test_freeipa_connection.py
```

#### ุชุณุช ุฏุณุช:
```bash
# ุชุณุช ุงุชุตุงู LDAP
ldapsearch -H ldap://192.168.0.36 -D "cn=mci,cn=users,dc=mci,dc=local" -W -b "dc=mci,dc=local"

# ุชุณุช Kerberos
kinit mci
ipa user-find mci
kdestroy
```

### 4๏ธโฃ **ุชูุธู ุฑูุฒ ุนุจูุฑ ูุฒุฑ MCI:**

#### ุฏุฑ Flask CMS:
1. ูุงู `freeipa_config.env` ุฑุง ุจุงุฒ ฺฉูุฏ
2. ุฑูุฒ ุนุจูุฑ ูุฒุฑ MCI ุฑุง ุฏุฑ `FREEIPA_BIND_PASSWORD` ูุงุฑุฏ ฺฉูุฏ
3. ูุงู ุฑุง ุฐุฎุฑู ฺฉูุฏ

#### ุง ุงุฒ ูุชุบุฑูุง ูุญุท:
```bash
export FREEIPA_BIND_PASSWORD="ุฑูุฒ_ุนุจูุฑ_ูุฒุฑ_MCI"
```

### 5๏ธโฃ **ุงุฌุฑุง Flask CMS:**

#### ุจุง ุชูุธูุงุช FreeIPA:
```bash
# ุจุงุฑฺฏุฐุงุฑ ุชูุธูุงุช
source freeipa_config.env

# ุงุฌุฑุง Flask CMS
python app.py
```

#### ุง ูุณุชููุงู:
```bash
FREEIPA_BIND_PASSWORD="ุฑูุฒ_ุนุจูุฑ_ูุฒุฑ_MCI" python app.py
```

### 6๏ธโฃ **ุชุณุช ุฏุฑ Flask CMS:**

#### ูุฑูุฏ ุจู Flask CMS:
- **ุขุฏุฑุณ:** http://localhost:5000
- **ูุฒุฑ:** admin
- **ุฑูุฒ:** admin123

#### ุชุณุช FreeIPA:
1. **ููู ฺฉูุงุฑ** โ **FreeIPA**
2. **ุชูุธูุงุช ุณุฑูุฑ** โ **ุงูุฒูุฏู ุณุฑูุฑ ุฌุฏุฏ**
3. **ูุงุฑุฏ ฺฉุฑุฏู ุงุทูุงุนุงุช:**
   ```
   ูุงู ุณุฑูุฑ: FreeIPA MCI Server
   ุขุฏุฑุณ ุณุฑูุฑ: 192.168.0.36
   ูพูุฑุช: 389
   SSL: ุฎุฑ
   Base DN: dc=mci,dc=local
   Bind DN: cn=mci,cn=users,dc=mci,dc=local
   ุฑูุฒ ุนุจูุฑ: [ุฑูุฒ ูุฒุฑ MCI]
   ```
4. **ุชุณุช ุงุชุตุงู**

### 7๏ธโฃ **ูฺฺฏโูุง FreeIPA ุฏุฑ Flask CMS:**

#### ูุฏุฑุช ฺฉุงุฑุจุฑุงู:
- โ ูุดุงูุฏู ูุณุช ฺฉุงุฑุจุฑุงู
- โ ุงุฌุงุฏ ฺฉุงุฑุจุฑ ุฌุฏุฏ
- โ ูุฑุงุด ฺฉุงุฑุจุฑ
- โ ุญุฐู ฺฉุงุฑุจุฑ
- โ ุชุบุฑ ุฑูุฒ ุนุจูุฑ

#### ูุฏุฑุช ฺฏุฑููโูุง:
- โ ูุดุงูุฏู ูุณุช ฺฏุฑููโูุง
- โ ุงุฌุงุฏ ฺฏุฑูู ุฌุฏุฏ
- โ ูุฑุงุด ฺฏุฑูู
- โ ุญุฐู ฺฏุฑูู
- โ ุงูุฒูุฏู/ุญุฐู ุงุนุถุง

#### ููฺฏุงูโุณุงุฒ:
- โ ููฺฏุงูโุณุงุฒ ฺฉุงุฑุจุฑุงู
- โ ููฺฏุงูโุณุงุฒ ฺฏุฑููโูุง
- โ ููฺฏุงูโุณุงุฒ ุฎูุฏฺฉุงุฑ

#### ูพุงูฺฉ:
- โ ุงุฑุณุงู ูพุงูฺฉ ุจู ฺฉุงุฑุจุฑุงู
- โ ุงุฑุณุงู ูพุงูฺฉ ุจู ฺฏุฑููโูุง
- โ ุชุงุฑุฎฺู ูพุงูฺฉโูุง

### 8๏ธโฃ **ุนุจโุงุจ:**

#### ูุดฺฉู 1: ุฎุทุง ุงุชุตุงู
```bash
# ุจุฑุฑุณ ูุถุนุช ุณุฑูุณ
systemctl status ipa

# ุจุฑุฑุณ ูพูุฑุชโูุง
netstat -tlnp | grep 389

# ุจุฑุฑุณ ูุงุฑูุงู
firewall-cmd --list-all
```

#### ูุดฺฉู 2: ุฎุทุง ุงุญุฑุงุฒ ููุช
```bash
# ุชุณุช Kerberos
kinit mci
klist
kdestroy

# ุชุณุช LDAP
ldapsearch -H ldap://192.168.0.36 -D "cn=mci,cn=users,dc=mci,dc=local" -W
```

#### ูุดฺฉู 3: ุฎุทุง Flask CMS
```bash
# ุจุฑุฑุณ ูุงฺฏโูุง
tail -f logs/app.log

# ุชุณุช ุงุชุตุงู
python test_freeipa_connection.py
```

### 9๏ธโฃ **ุงููุช:**

#### ุชูุตูโูุง ุงููุช:
- โ ุงุณุชูุงุฏู ุงุฒ SSL/TLS
- โ ุชุบุฑ ุฑูุฒูุง ูพุดโูุฑุถ
- โ ูุญุฏูุฏ ฺฉุฑุฏู ุฏุณุชุฑุณโูุง
- โ ูุงูุชูุฑูฺฏ ูุงฺฏโูุง
- โ ูพุดุชุจุงูโฺฏุฑ ููุธู

#### ุชูุธู SSL:
```bash
# ุฏุฑ FreeIPA
ipa-cacert-manage install

# ุฏุฑ Flask CMS
FREEIPA_USE_SSL=true
FREEIPA_PORT=636
```

### ๐ **ูุชุฌู:**

ูพุณ ุงุฒ ุชฺฉูู ุชูุธูุงุช:

1. **FreeIPA ูุตุจ ู ูพฺฉุฑุจูุฏ ุดุฏู**
2. **Flask CMS ุจุง FreeIPA ูุชุตู ุดุฏู**
3. **ูุฏุฑุช ฺฉุงุฑุจุฑุงู ู ฺฏุฑููโูุง ูุนุงู ุงุณุช**
4. **ููฺฏุงูโุณุงุฒ ู ูพุงูฺฉ ูุนุงู ุงุณุช**
5. **ุณุณุชู ุขูุงุฏู ุงุณุชูุงุฏู ุงุณุช**

## ๐ **ูพุดุชุจุงู:**

ุงฺฏุฑ ูุดฺฉู ุฏุงุดุชุฏ:
```bash
# ูุงฺฏ FreeIPA
journalctl -u ipa -f

# ูุงฺฏ Flask CMS
tail -f logs/app.log

# ุชุณุช ุงุชุตุงู
python test_freeipa_connection.py
```

**ุขุง ุขูุงุฏู ุชุณุช ุงุชุตุงู ูุณุชุฏุ**



